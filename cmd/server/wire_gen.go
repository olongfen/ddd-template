// Code generated by Wire. DO NOT EDIT.

//go:generate go run github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package main

import (
	"ddd-template/internal/adapters/repositry"
	"ddd-template/internal/adapters/restful"
	"ddd-template/internal/adapters/rpcx"
	"ddd-template/internal/app"
	"ddd-template/internal/app/service"
	"ddd-template/internal/app/usecase"
	"ddd-template/internal/initialization"
	"ddd-template/internal/initialization/conf"
	"ddd-template/internal/initialization/database"
)

// Injectors from wire.go:

func NewServer(confPath string) (*app.Application, error) {
	configs := conf.InitConf(confPath)
	db := database.NewDatabase(configs)
	logger := initialization.InitLog(configs)
	iDemoRepo := repositry.NewDemoDependencyImpl(db, logger)
	iDemoUsecase := usecase.NewDemoServer(iDemoRepo, logger)
	greeterServer := service.NewDemoService(iDemoUsecase, logger)
	httpServer := restful.NewHTTPServer(greeterServer, configs)
	grpcServer := rpcx.NewGrpc(greeterServer, configs)
	application := app.NewApp(httpServer, grpcServer, logger)
	return application, nil
}
