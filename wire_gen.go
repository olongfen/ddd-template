// Code generated by Wire. DO NOT EDIT.

//go:generate go run github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package main

import (
	"ddd-template/internal/adapters/repository"
	"ddd-template/internal/application"
	"ddd-template/internal/application/mutation"
	"ddd-template/internal/application/query"
	"ddd-template/internal/ports/controller"
	"ddd-template/internal/ports/controller/handler"
	"ddd-template/internal/ports/controller/middleware"
	"ddd-template/internal/ports/graph"
	"ddd-template/internal/rely"
	"ddd-template/internal/service"
	"go.uber.org/zap"
)

// Injectors from wire.go:

func NewServer(configs *rely.Configs, logger *zap.Logger) (*service.Server, func()) {
	db := repository.InitDBConnect(configs, logger)
	dbData, cleanup := repository.NewData(db, logger)
	iDemoRepo := repository.NewDemo(dbData)
	iDemoService := mutation.NewDemo(iDemoRepo)
	appMutation := app.SetMutation(iDemoService)
	query_ifaceIDemoService := query.NewDemo(iDemoRepo)
	appQuery := app.SetQuery(query_ifaceIDemoService)
	application := app.NewApplication(appMutation, appQuery)
	handlerHandler := handler.NewHandler(application)
	resolver := graph.NewResolver(application, logger)
	middlewareMiddleware := middleware.NewMiddleware(logger)
	httpServer, cleanup2 := controller.NewHTTPServer(handlerHandler, resolver, middlewareMiddleware)
	server := service.NewServer(httpServer)
	return server, func() {
		cleanup2()
		cleanup()
	}
}
